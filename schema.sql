CREATE TABLE Team (
    TeamID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TeamName VARCHAR2(50) NOT NULL,
    City VARCHAR2(50) NOT NULL
);

CREATE TABLE Player (
    PlayerID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PlayerName VARCHAR2(50) NOT NULL,
    Position VARCHAR2(10) NOT NULL,
    TeamID NUMBER,
    CONSTRAINT fk_team FOREIGN KEY (TeamID) REFERENCES Team(TeamID)
);

CREATE TABLE Game (
    GameID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    GameDate DATE NOT NULL,
    HomeTeamID NUMBER NOT NULL,
    AwayTeamID NUMBER NOT NULL,
    HomeTeamScore NUMBER,
    AwayTeamScore NUMBER,
    CONSTRAINT fk_home_team FOREIGN KEY (HomeTeamID) REFERENCES Team(TeamID),
    CONSTRAINT fk_away_team FOREIGN KEY (AwayTeamID) REFERENCES Team(TeamID)
);

CREATE TABLE GameStats (
    GameStatsID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    GameID NUMBER NOT NULL,
    PlayerID NUMBER NOT NULL,
    Points NUMBER,
    Rebounds NUMBER,
    Assists NUMBER,
    CONSTRAINT fk_game FOREIGN KEY (GameID) REFERENCES Game(GameID),
    CONSTRAINT fk_player FOREIGN KEY (PlayerID) REFERENCES Player(PlayerID)
);
